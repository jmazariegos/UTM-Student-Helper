

<!DOCTYPE html>
<html>
   <head>
      <title>Our UTM</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <script src="https://sdk.amazonaws.com/js/aws-sdk-2.2.32.min.js"></script> 
      <script src="Website/jquery-3.3.1.min.js"></script>
      <script src="Website/client.js"></script>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
      <link rel="stylesheet" type="text/css" href="Website/layout.css">
      <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> -->
      <script>
         function deactivateAll(){
         	var active = document.getElementsByClassName("active");
         	active.toggle("mystyle");
         }
      </script>
   </head>
   <!-- 
      div:
      Login
      Reg
      Reset
      Home
      Map
      Account
      note take -> should rename
      navbar
      -->
   <body>
      <!-- Login page
         ----------------------------------------------------------
         -->
      <div class="Body">
      <div id="login">
         <!-- Login stuff  -->
         <br>
         User Name:
         E-Mail:
         <input id="lemail" type="Email" required><br>
         Password:
         <input id="lpass" type="password" required><br>
         <button id="loginButton" type="submit">Login<br></button><br>
         <br>
         <div class="btn-toolbar">
            <button id="Reglink" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#reg">Register<br></button>
            <button id="Forgot" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#reset">Forgot Password<br></button>
         </div>
         <!-- </form> -->
      </div>
      <!-- Regstration page
         ----------------------------------------------------------
         -->
      <div id="reg" class="modal fade" role="dialog">
         <div class="modal-dialog">
            <div class="modal-content">
               <div class="modal-header">
                  <h1>Registration:</h1>
               </div>
               <div class="modal-body">
                  User Name:
                  <input id="ruserid" name="userid" required><br>
                  E-Mail:
                  <input id="remail" type="Email" name="Email" required><br>
                  Password:
                  <input id="rpass1" type="password" required><br>
                  Confirm Password:
                  <input id="rpass2" type="password" required><br>
                  <button id="regButton" type="submit">Submit<br></button>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
               </div>
            </div>
         </div>
      </div>
      <!-- Reset page
         ----------------------------------------------------------
         -->
      <div id="reset" class="modal fade" role="dialog">
         <div class="modal-dialog">
            <div class="modal-content">
               <div class="modal-header">
                  <h1>Header:</h1>
               </div>
               <div class="modal-body">
                  Email:
                  <input id="resemail" type='Email' required>
                  <button id="resetButton" type="submit">Submit<br></button>
               </div>
           
            <div class="modal-footer">
               <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
         </div>
      </div>
      <!-- Home page
         ----------------------------------------------------------
         -->
      <div class="" id="sidebar">
         <ul class="nav nav-pills nav-stacked">
            <li id='Home' class="active"><a href="" onclick="return false;">Home<br></a></li>
            <li class="active"><a href="" onclick="return false;">Calendar</a></li>
            <li class="active"><a href="" onclick="return false;">Notes</a></li>
            <li class="active"><a href="" onclick="return false;">Timetable</a></li>
            <li class="active"><a href="" onclick="return false;">Friends</a></li>
            <li id='side-map' class="active"><a href="" onclick="return false;">Map</a></li>
            <li class="active"><a href="" onclick="return false;">Settings</a></li>
            <li id='logout' class="active"><a href="" onclick="return false;">Logout</a></li>
         </ul>
      </div>
      <div id="home">
         <!-- Burger -->
         <div class="row py-3">
            <!-- Calender Body -->
            <div class="col offset-2" id="main">
               <h2>Time Table</h2>
               <table id="timetable">
                  <script> 
                     //request.open('GET', 'https://github.com/jessly5/301tsv/blob/master/timeTable.json', true);
                     //xmlhttp https://www.w3schools.com/js/tryit.asp?filename=tryjson_http
                     //document.getElementById("course-list").innerHTML = JSON.stringify($courses[0].code);
                     
                     var url = "./data/timeTable.json";
                     
                     $.getJSON(url, function(data) {
                     	console.log(data); //this writes to the console, and I think we need this request to access data
                     	
                     	var days = {"SU":0, "MO":1, "TU":2, "WE":3, "TH":4, "FR":5, "SA":6};
                     	var timetable = document.getElementById("timetable");
                     	
                     	var courses = data['courses']; //get value of this key
                     	var course_list_len = courses.length;
                     	
                     	for (i=0; i < course_list_len; i++){ //go through each course
                     		
                     		var code = courses[i].code;
                     		var ses = courses[i].session;
                     		var name = courses[i].name;
                     		var description = courses[i].description;
                     		
                     		var lec = courses[i].lectures[0]; //0 since we only have once tuple in the list of lectures
                     		var section = lec.section;
                     		var time = lec.timings;
                     		for(j=0; j < time.length; j++) { //go through each lecture
                     			var d = time[j][0];
                     			var day_index = days[d];
                     			var start = time[j][1];
                     			var end = time[j][2];
                     			for (var k = 1, row; row = timetable.rows[k]; k++) { //1 because row of table headers is 0
                     				for (var m = 1, col; col = row.cells[m]; m++) {
                     					if (m == day_index){						 								   
                     						var new_node = "<div class=\"class\"><b>Lecture: </b>"+code+"<br/>"+start+"-"+end+"<\div><br/><div class=\"classinfo\"><b>Name</b>: "+name+"<br/><b>Session</b>: "+section+"<br/><b>Info</b>: "+description+"<\div>";
                     						col.insertAdjacentHTML('beforeend', new_node);								
                     					}
                     				}  
                     			}
                     		}
                     		
                     		var tutorials = courses[i].tutorials[0];
                     		time = tutorials.timings;
                     		section = tutorials.section;
                     		
                     		for(j=0; j < time.length; j++) { //go through each tutorial
                     			var d = time[j][0]; 
                     			var day_index = days[d];
                     			var start = time[j][1];
                     			var end = time[j][2];
                     			for (var k = 1, row; row = timetable.rows[k]; k++) { //1 because row of date names is 0
                     				for (var m = 1, col; col = row.cells[m]; m++) {
                     					if (m == day_index){						 								   
                     						var new_node = "<div class=\"class\"><b>Tutorial: </b>"+code+"<br/>"+start+"-"+end+"<\div><br/><div class=\"classinfo\"><b>Name</b>: "+name+"<br/><b>Session</b>: "+section+"<br/><b>Info</b>: "+description+"<\div>";
                     						col.insertAdjacentHTML('beforeend', new_node);								
                     					}
                     				}  
                     			}
                     		}
                     		
                     		var practicals = courses[i].practicals[0];
                     		time = practicals.timings;
                     		section = practicals.section;
                     		
                     		for(j=0; j < time.length; j++) { //go through each practical
                     			var d = time[j][0]; 
                     			var day_index = days[d];
                     			var start = time[j][1];
                     			var end = time[j][2];
                     			for (var k = 1, row; row = timetable.rows[k]; k++) { //1 because row of date names is 0
                     				for (var m = 1, col; col = row.cells[m]; m++) {
                     					if (m == day_index){						 								   
                     						var new_node = "<div class=\"class\"><b>Practical: </b>"+code+"<br/>"+start+"-"+end+"<\div><br/><div class=\"classinfo\"><b>Name</b>: "+name+"<br/><b>Session</b>: "+section+"<br/><b>Info</b>: "+description+"<\div>";
                     						col.insertAdjacentHTML('beforeend', new_node);								
                     					}
                     				}  
                     			}
                     		}
                     		
                     	}			
                     });
                  </script>
                  <tr>
                     <th>Sunday</th>
                     <th>Monday</th>
                     <th>Tuesday</th>
                     <th>Wednesday</th>
                     <th>Thursday</th>
                     <th>Friday</th>
                     <th>Saturday</th>
                  </tr>
                  <tr>
                     <td>27</td>
                     <td>28</td>
                     <td>29</td>
                     <td>30</td>
                     <td>31</td>
                     <td>1</td>
                     <td>2</td>
                  </tr>
                  <tr>
                     <td>3</td>
                     <td>4</td>
                     <td>5</td>
                     <td>6</td>
                     <td>7</td>
                     <td>8</td>
                     <td>9</td>
                  </tr>
                  <tr>
                     <td>10</td>
                     <td>11</td>
                     <td>12</td>
                     <td>13</td>
                     <td>14</td>
                     <td>15</td>
                     <td>16</td>
                  </tr>
                  <tr>
                     <td>17</td>
                     <td>18</td>
                     <td>19</td>
                     <td>20</td>
                     <td>21</td>
                     <td>22</td>
                     <td>23</td>
                  </tr>
                  <tr>
                     <td>24</td>
                     <td>25</td>
                     <td>26</td>
                     <td>27</td>
                     <td>28</td>
                     <td>1</td>
                     <td>2</td>
                  </tr>
               </table>
               <!-- Side Buttons -->
            </div>
         </div>
      </div>
      <!-- Map page
         ----------------------------------------------------------
         -->
      <div id="map"  >
         <h1 id="mapTitle"></h1>
         <!-- Our map image -->
         <div id="mapContainer">
            <!-- The map image -->
            <img id="mapImg" />
            <!-- Link Buttons -->
            <table id="mapButtons">
            </table>
         </div>
         <div>
            <table id="foodTable"></table>
         </div>
      </div>
      <!-- Account page
         ----------------------------------------------------------
         -->
      <div class="account"></div>
      <!-- Note page
         ----------------------------------------------------------
         -->
      <div class="note"></div>
      <!-- Navbar page
         ----------------------------------------------------------
         -->
      <div class="navbar">
         <nav class="navbar navbar-inverse navbar-fixed-top">
            <img id="logo" src="Website/logo.jpeg" width="30" height="30" class="d-inline-block align-top" alt="">
            <!-- <img src = ></img> -->
         </nav>
      </div>


      <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>Holy guacamole!</strong> You should check in on some of those fields below.
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
   </body>
</html>

